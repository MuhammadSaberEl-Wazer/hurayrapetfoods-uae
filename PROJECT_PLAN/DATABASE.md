# ğŸ—„ï¸ Database â€” ØªØµÙ…ÙŠÙ… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

**Ø§Ù„ØºØ±Ø¶:** ØªØ­Ø¯ÙŠØ¯ Ø¬Ø¯Ø§ÙˆÙ„ ÙˆÙ‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù…ÙˆÙ‚Ø¹ Hurayra Pet Foods UAE.  
**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** ÙØ¨Ø±Ø§ÙŠØ± 2026

---

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ø§Ù„ÙŠØŒ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠØ­Ø¯Ø¯:
- Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
- Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø¨ÙŠÙ†Ù‡Ø§
- Ø§Ù„Ù€ schema (PostgreSQL/SQL)
- Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
- **PostgreSQL** (Ù…ÙÙØ¶Ù‘Ù„): Ø¯Ø¹Ù… JSONBØŒ Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„Ù
- **MySQL**: Ø¨Ø¯ÙŠÙ„ Ù…ØªÙˆØ§ÙÙ‚

### ğŸŒ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ù„ØºØ© (Bilingual AR/EN)

Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…ØªØ±Ø¬Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ (Ø¹Ø±Ø¨ÙŠ/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ). ØªÙØ®Ø²Ù‘ÙÙ† Ø§Ù„Ù†ØµÙˆØµ Ø¨Ø§Ù„Ù„ØºØªÙŠÙ† ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.

**Ù†Ù…Ø·Ø§Ù† Ù„Ù„ØªØ®Ø²ÙŠÙ†:**
1. **Ø£Ø¹Ù…Ø¯Ø© Ù…Ø²Ø¯ÙˆØ¬Ø©**: `name` + `name_ar` â€” Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©
2. **JSONB Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©**: `{ "en": "...", "ar": "..." }` â€” Ù„Ù„Ù…ØµÙÙˆÙØ§Øª ÙˆØ§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©

**Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø©:**
- Ø£ÙŠ Ù†Øµ ÙŠØ¸Ù‡Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙØ®Ø²Ù‘ÙÙ† Ø¨Ø§Ù„Ù„ØºØªÙŠÙ†
- Ø§Ù„Ù€ API ÙŠØ±Ø¬Ø¹ Ø§Ù„Ù†Øµ Ø­Ø³Ø¨ `?lang=ar` Ø£Ùˆ `Accept-Language`

---

## ğŸ“Š Ù…Ø®Ø·Ø· Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª (ER)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ admin_users â”‚     â”‚   products    â”‚     â”‚  blog_posts â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                    â”‚product_sizesâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   orders    â”‚â”€â”€â”€â”€â–¶â”‚  order_items  â”‚â—€â”€â”€â”€â”€â”‚  products   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ (customer_info inline Ø£Ùˆ customers table)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ contact_messages â”‚  â”‚ newsletter_subs    â”‚  â”‚  site_content   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  settings   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ƒï¸ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ù€ Schema

### 1. admin_users
Ù…Ø³ØªØ®Ø¯Ù…Ùˆ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Admin).

```sql
CREATE TABLE admin_users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  name VARCHAR(255),
  role VARCHAR(50) DEFAULT 'admin',  -- admin, super_admin
  is_active BOOLEAN DEFAULT true,
  last_login_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_admin_users_email ON admin_users(email);
```

---

### 2. products
Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Chicken, Tuna, Combo, â€¦). **Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©.**

```sql
CREATE TABLE products (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  -- EN
  name VARCHAR(255) NOT NULL,
  slug VARCHAR(255) UNIQUE NOT NULL,
  description TEXT,
  -- AR
  name_ar VARCHAR(255),
  slug_ar VARCHAR(255),
  description_ar TEXT,
  --
  type VARCHAR(50) NOT NULL CHECK (type IN ('chicken', 'tuna', 'combo')),
  price DECIMAL(10, 2) NOT NULL,
  compare_at_price DECIMAL(10, 2),
  -- Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©: [{ "en": "100% Halal Certified", "ar": "Ù…Ø¹ØªÙ…Ø¯ Ø­Ù„Ø§Ù„ 100Ùª" }, ...]
  features JSONB DEFAULT '[]',
  -- Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©: { "en": { "protein": "35%", ... }, "ar": { "protein": "35Ùª", ... } }
  nutritional_info JSONB DEFAULT '{}',
  -- Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©: [{ "en": "Chicken Meat", "ar": "Ù„Ø­Ù… Ø¯Ø¬Ø§Ø¬" }, ...]
  ingredients JSONB DEFAULT '[]',
  images JSONB DEFAULT '[]',
  in_stock BOOLEAN DEFAULT true,
  featured BOOLEAN DEFAULT false,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_products_type ON products(type);
CREATE INDEX idx_products_slug ON products(slug);
CREATE INDEX idx_products_slug_ar ON products(slug_ar) WHERE slug_ar IS NOT NULL;
CREATE INDEX idx_products_featured ON products(featured);
CREATE INDEX idx_products_in_stock ON products(in_stock);
```

**Ø£Ù…Ø«Ù„Ø© Ù„Ù‡ÙŠÙƒÙ„ JSONB Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©:**
```json
// features
[{ "en": "100% Halal Certified", "ar": "Ù…Ø¹ØªÙ…Ø¯ Ø­Ù„Ø§Ù„ 100Ùª" }, { "en": "High Protein", "ar": "Ø¨Ø±ÙˆØªÙŠÙ† Ø¹Ø§Ù„ÙŠ" }]

// nutritional_info
{ "en": { "protein": "35%", "fat": "15%", "fiber": "3%", "moisture": "10%" }, "ar": { "protein": "35Ùª", "fat": "15Ùª", "fiber": "3Ùª", "moisture": "10Ùª" } }

// ingredients
[{ "en": "Chicken Meat (Halal Certified)", "ar": "Ù„Ø­Ù… Ø¯Ø¬Ø§Ø¬ (Ù…Ø¹ØªÙ…Ø¯ Ø­Ù„Ø§Ù„)" }, ...]
```

**Ù…Ù„Ø§Ø­Ø¸Ø§Øª:**
- `slug_ar` Ø§Ø®ØªÙŠØ§Ø±ÙŠ â€” ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ slug Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ù„Ù„Ù€ URL ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù„ØºØ© Ù…Ù† Ø§Ù„Ù€ Frontend
- `type` Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙˆØ³Ø¹ (lamb, goat, supplements)

---

### 3. product_sizes
Ù…Ù‚Ø§Ø³Ø§Øª ÙˆØ£Ø³Ø¹Ø§Ø± ÙƒÙ„ Ù…Ù†ØªØ¬.

```sql
CREATE TABLE product_sizes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  product_id UUID NOT NULL REFERENCES products(id) ON DELETE CASCADE,
  size VARCHAR(50) NOT NULL,             -- "900g", "1kg", "2kg"
  price DECIMAL(10, 2) NOT NULL,
  sku VARCHAR(100) UNIQUE NOT NULL,
  in_stock BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_product_sizes_product_id ON product_sizes(product_id);
CREATE INDEX idx_product_sizes_sku ON product_sizes(sku);
```

---

### 4. orders
Ø§Ù„Ø·Ù„Ø¨Ø§Øª.

```sql
CREATE TABLE orders (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  order_number VARCHAR(50) UNIQUE NOT NULL,
  -- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ (inline Ù„Ø³Ù‡ÙˆÙ„Ø© - Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù‚Ø¯ Ù„Ø§ ÙŠÙƒÙˆÙ† Ù…Ø³Ø¬Ù„Ø§Ù‹)
  customer_first_name VARCHAR(100) NOT NULL,
  customer_last_name VARCHAR(100) NOT NULL,
  customer_email VARCHAR(255) NOT NULL,
  customer_phone VARCHAR(50) NOT NULL,
  -- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„
  delivery_address TEXT NOT NULL,
  delivery_city VARCHAR(100) NOT NULL,
  delivery_emirate VARCHAR(100) NOT NULL,
  -- Ø§Ù„Ù…Ø¨Ø§Ù„Øº
  subtotal DECIMAL(10, 2) NOT NULL,
  shipping DECIMAL(10, 2) DEFAULT 0,
  total DECIMAL(10, 2) NOT NULL,
  -- Ø§Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„Ø¯ÙØ¹
  status VARCHAR(50) DEFAULT 'pending' CHECK (status IN ('pending', 'processing', 'shipped', 'delivered', 'cancelled')),
  payment_method VARCHAR(50) DEFAULT 'cash-on-delivery' CHECK (payment_method IN ('cash-on-delivery', 'card', 'bank-transfer')),
  notes TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_orders_customer_email ON orders(customer_email);
CREATE INDEX idx_orders_status ON orders(status);
CREATE INDEX idx_orders_created_at ON orders(created_at DESC);
CREATE INDEX idx_orders_order_number ON orders(order_number);
```

**Ù…Ù„Ø§Ø­Ø¸Ø§Øª:**
- Ù„Ø§ ÙŠÙˆØ¬Ø¯ `customer_id` Ø¥Ù„Ø²Ø§Ù…ÙŠ â€” Ø§Ù„Ø·Ù„Ø¨ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ù…Ù† Ø¶ÙŠÙ
- ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© `customer_id` ÙƒÙ€ FK Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ø±Ø¨Ø· Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ† Ù„Ø§Ø­Ù‚Ø§Ù‹

---

### 5. order_items
Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø·Ù„Ø¨. ÙŠÙØ­ÙÙØ¸ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ø§Ù„Ù„ØºØªÙŠÙ† Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨ (Ù„Ø¥Ø¸Ù‡Ø§Ø±Ù‡ ÙÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø¨Ù„ØºØ© Ø§Ù„Ø¹Ù…ÙŠÙ„).

```sql
CREATE TABLE order_items (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  order_id UUID NOT NULL REFERENCES orders(id) ON DELETE CASCADE,
  product_id UUID REFERENCES products(id) ON DELETE SET NULL,
  product_name VARCHAR(255) NOT NULL,
  product_name_ar VARCHAR(255),
  size VARCHAR(50) NOT NULL,
  sku VARCHAR(100) NOT NULL,
  quantity INTEGER NOT NULL CHECK (quantity > 0),
  price DECIMAL(10, 2) NOT NULL,
  subtotal DECIMAL(10, 2) NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_order_items_order_id ON order_items(order_id);
```

---

### 6. blog_categories
ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©. **Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©.**

```sql
CREATE TABLE blog_categories (
  id VARCHAR(50) PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  name_ar VARCHAR(100),
  sort_order INTEGER DEFAULT 0
);

-- Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„ÙŠØ©
INSERT INTO blog_categories (id, name, name_ar, sort_order) VALUES
  ('nutrition', 'Nutrition', 'Ø§Ù„ØªØºØ°ÙŠØ©', 1),
  ('health', 'Health', 'Ø§Ù„ØµØ­Ø©', 2),
  ('care', 'Care', 'Ø§Ù„Ø¹Ù†Ø§ÙŠØ©', 3),
  ('tips', 'Tips', 'Ù†ØµØ§Ø¦Ø­', 4),
  ('news', 'News', 'Ø£Ø®Ø¨Ø§Ø±', 5);
```

---

### 7. blog_posts
Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©. **Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©.**

```sql
CREATE TABLE blog_posts (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  slug VARCHAR(255) UNIQUE NOT NULL,
  -- EN
  title VARCHAR(255) NOT NULL,
  excerpt TEXT,
  content TEXT NOT NULL,
  -- AR
  slug_ar VARCHAR(255),
  title_ar VARCHAR(255),
  excerpt_ar TEXT,
  content_ar TEXT,
  --
  category_id VARCHAR(50) NOT NULL REFERENCES blog_categories(id),
  author_name VARCHAR(255) NOT NULL,
  author_name_ar VARCHAR(255),
  author_role VARCHAR(100),
  author_role_ar VARCHAR(100),
  author_avatar VARCHAR(500),
  image VARCHAR(500) NOT NULL,
  publish_date DATE NOT NULL,
  read_time INTEGER DEFAULT 5,
  -- Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©: [{ "en": "Halal", "ar": "Ø­Ù„Ø§Ù„" }, ...]
  tags JSONB DEFAULT '[]',
  featured BOOLEAN DEFAULT false,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_blog_posts_slug ON blog_posts(slug);
CREATE INDEX idx_blog_posts_slug_ar ON blog_posts(slug_ar) WHERE slug_ar IS NOT NULL;
CREATE INDEX idx_blog_posts_category ON blog_posts(category_id);
CREATE INDEX idx_blog_posts_publish_date ON blog_posts(publish_date DESC);
CREATE INDEX idx_blog_posts_featured ON blog_posts(featured);
```

---

### 8. contact_messages
Ø±Ø³Ø§Ø¦Ù„ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙˆØ§ØµÙ„.

```sql
CREATE TABLE contact_messages (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(255) NOT NULL,
  email VARCHAR(255) NOT NULL,
  phone VARCHAR(50),
  subject VARCHAR(255) NOT NULL,
  message TEXT NOT NULL,
  status VARCHAR(50) DEFAULT 'new' CHECK (status IN ('new', 'read', 'replied')),
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_contact_messages_status ON contact_messages(status);
CREATE INDEX idx_contact_messages_created_at ON contact_messages(created_at DESC);
```

---

### 9. newsletter_subscriptions
Ø§Ù„Ù…Ø´ØªØ±ÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ù†Ø´Ø±Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠØ©.

```sql
CREATE TABLE newsletter_subscriptions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  subscribed BOOLEAN DEFAULT true,
  subscribed_at TIMESTAMPTZ DEFAULT NOW(),
  unsubscribed_at TIMESTAMPTZ
);

CREATE INDEX idx_newsletter_email ON newsletter_subscriptions(email);
```

---

### 10. site_content
Ù…Ø­ØªÙˆÙ‰ ØµÙØ­Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ (CMS). **Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©.**

ÙŠÙØ®Ø²Ù‘ÙÙ† ÙƒÙ„ Ù…Ø­ØªÙˆÙ‰ ØµÙØ­Ø© ÙƒÙ€ JSON Ù…Ø¹ Ø¯Ø¹Ù… `en` Ùˆ `ar`. Ø§Ù„Ù€ keys:
`hero`, `about`, `footer`, `contact`, `features`, `faqs`, `testimonials`, `nutrition`, `why-halal`

```sql
CREATE TABLE site_content (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  content_key VARCHAR(100) UNIQUE NOT NULL,
  content JSONB NOT NULL,
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Ø£Ù…Ø«Ù„Ø© Ù„Ù„Ù€ keys:
-- hero, about, footer, contact, features, faqs, testimonials, nutrition, why_halal
```

**Ù‡ÙŠÙƒÙ„ Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ© â€” ÙƒÙ„ content_key ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:**
```json
{
  "en": {
    "mainHeadline": "For the Lives that Make Ours Whole",
    "subHeadline": "Premium Halal Cat Food",
    "description": "100% Halal cat food..."
  },
  "ar": {
    "mainHeadline": "Ù„Ø­ÙŠØ§Ø© ØªÙƒÙ…Ù„ Ø­ÙŠØ§ØªÙ†Ø§",
    "subHeadline": "Ø·Ø¹Ø§Ù… Ù‚Ø·Ø· Ø­Ù„Ø§Ù„ Ù…ØªÙ…ÙŠØ²",
    "description": "Ø·Ø¹Ø§Ù… Ù‚Ø·Ø· Ø­Ù„Ø§Ù„ 100Ùª..."
  }
}
```

**Ù‡ÙŠÙƒÙ„ Ø§Ù„ØµÙØ­Ø§Øª (Ø¯Ø§Ø®Ù„ ÙƒÙ„ Ù…Ù† en Ùˆ ar):**
- `hero`: mainHeadline, subHeadline, description, trustBadge, cta, badges, rating, images
- `about`: hero, story, mission, vision, values, whyChooseUs, certifications
- `footer`: logo, description, columns, newsletter, paymentMethods, trustBadges, copyright, socialMedia
- `contact`: hero, contactInfo, socialMedia, form, faqLink
- `features`: features (ÙƒÙ„ Ø¹Ù†ØµØ±: title, description, icon â€” Ø¨Ù„ØºØªÙŠÙ† Ø£Ùˆ Ø¶Ù…Ù† en/ar)
- `faqs`: faqs (ÙƒÙ„ Ø¹Ù†ØµØ±: question, answer â€” Ø¨Ù„ØºØªÙŠÙ†)
- `testimonials`: testimonials (name, location, comment â€” Ø¨Ù„ØºØªÙŠÙ†), stats
- `nutrition`: title, subtitle, benefits, guaranteedAnalysis, feedingGuide
- `why_halal`: hero, whatIsHalal, whyItMatters, meatDerivatives, islamSays, faq, cta, ...

**Ù…Ù„Ø§Ø­Ø¸Ø©:** `images` ÙˆØ§Ù„Ù€ URLs Ù„Ø§ ØªØ­ØªØ§Ø¬ ØªØ±Ø¬Ù…Ø©. Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø· ØªÙØªØ±Ø¬Ù….

---

### 11. settings
Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ù…ØªØºÙŠØ± ÙˆØ§Ø­Ø¯ Ø£Ùˆ Ø¹Ø¯Ø© Ù…ÙØ§ØªÙŠØ­).

**Ø®ÙŠØ§Ø± Ø£: Ø¬Ø¯ÙˆÙ„ key-value**
```sql
CREATE TABLE settings (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  setting_key VARCHAR(100) UNIQUE NOT NULL,
  setting_value JSONB NOT NULL,
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

**Ø®ÙŠØ§Ø± Ø¨: Ø¹Ù…ÙˆØ¯ ÙˆØ§Ø­Ø¯ Ø¨Ù€ JSON**
```sql
CREATE TABLE settings (
  id SERIAL PRIMARY KEY,
  data JSONB NOT NULL,
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
-- Ø³Ø¬Ù„ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·ØŒ ÙƒÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙŠ data
```

**Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© (Ù…Ù† Admin Settings):**
- storeName, storeNameAr, tagline, taglineAr (Ø¥Ù† ÙˆÙØ¬Ø¯Øª Ù†ØµÙˆØµ Ù„Ù„Ø¹Ø±Ø¶)
- email, phone, whatsapp, address
- facebook, instagram, twitter, tiktok
- freeShippingThreshold, shippingFee, currency, taxRate
- emailNotifications, orderNotifications, lowStockAlerts, customerMessages
- maintenanceMode, allowRegistration, showPrices

**Ù…Ù„Ø§Ø­Ø¸Ø© Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ù„ØºØ©:** Ø¥Ù† ÙƒØ§Ù†Øª Ø£ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØ¹Ø±Ø¶ Ù†ØµÙˆØµØ§Ù‹ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…Ø«Ù„ tagline)ØŒ Ø£Ø¶Ù Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©.

---

## ğŸ“ Ø¹Ù„Ø§Ù‚Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©)

### customers (Ù…Ø´ØªÙ‚ Ù…Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª)
Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø¬Ø¯ÙˆÙ„ Ø¹Ù…Ù„Ø§Ø¡ Ù…Ù†ÙØµÙ„ Ù„Ù„Ù…Ø­Ù„Ù„ÙŠÙ† ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±:

```sql
CREATE TABLE customers (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  first_name VARCHAR(100),
  last_name VARCHAR(100),
  phone VARCHAR(50),
  total_orders INTEGER DEFAULT 0,
  total_spent DECIMAL(12, 2) DEFAULT 0,
  first_order_at TIMESTAMPTZ,
  last_order_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ÙŠÙ…ÙƒÙ† Ù…Ù„Ø¤Ù‡ Ù…Ù† orders Ø¹Ø¨Ø± trigger Ø£Ùˆ job Ø¯ÙˆØ±ÙŠ
```

---

## ğŸ”„ Triggers Ùˆ Functions (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)

### ØªØ­Ø¯ÙŠØ« updated_at ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
```sql
CREATE OR REPLACE FUNCTION update_updated_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER products_updated_at
  BEFORE UPDATE ON products
  FOR EACH ROW EXECUTE FUNCTION update_updated_at();

-- Ù†ÙØ³ Ø§Ù„ÙÙƒØ±Ø© Ù„Ù€ orders, blog_posts, admin_users, product_sizes
```

### ØªÙˆÙ„ÙŠØ¯ order_number
```sql
CREATE OR REPLACE FUNCTION generate_order_number()
RETURNS TRIGGER AS $$
BEGIN
  NEW.order_number := 'ORD-' || TO_CHAR(NOW(), 'YYYYMMDD') || '-' || LPAD(FLOOR(RANDOM() * 10000)::TEXT, 4, '0');
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER orders_order_number
  BEFORE INSERT ON orders
  FOR EACH ROW
  WHEN (NEW.order_number IS NULL OR NEW.order_number = '')
  EXECUTE FUNCTION generate_order_number();
```

---

## ğŸ“Š Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### 1. Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- **PostgreSQL 14+** Ù…ÙÙØ¶Ù‘Ù„ (JSONBØŒ Ø£Ø¯Ø§Ø¡ØŒ Ù…Ø¬Ø§Ù†ÙŠ)
- Ø§Ø³ØªØ®Ø¯Ù… connection pooling (Ù…Ø«Ù„ PgBouncer) ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬

### 2. Ø§Ù„ØªØ³Ù…ÙŠØ©
- Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø£Ø¹Ù…Ø¯Ø©: `snake_case`
- Ø§Ù„Ù€ IDs: `UUID` Ù„Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Ø£ÙØ¶Ù„ Ù„Ù„ØªÙˆØ²ÙŠØ¹ ÙˆØ§Ù„Ø£Ù…Ø§Ù†)

### 3. Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®
- Ø§Ø³ØªØ®Ø¯Ù… `TIMESTAMPTZ` (Ù…Ø¹ timezone) Ø¯Ø§Ø¦Ù…Ø§Ù‹
- Default: `NOW()` Ø£Ùˆ `CURRENT_TIMESTAMP`

### 4. JSONB
- Ù„Ù„Ù…ØµÙÙˆÙØ§Øª ÙˆØ§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…ØªØºÙŠØ±Ø©: `features`, `ingredients`, `tags`, `content`
- Ø¥Ù†Ø´Ø§Ø¡ GIN index Ø¹Ù„Ù‰ Ø£Ø¹Ù…Ø¯Ø© JSONB Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© ÙƒØ«ÙŠØ±Ø§Ù‹ ÙÙŠ Ø§Ù„Ø¨Ø­Ø«:
  ```sql
  CREATE INDEX idx_products_features_gin ON products USING GIN (features);
  ```

### 5. Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ
- Backup ÙŠÙˆÙ…ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠ
- Retention: Ø£Ø³Ø¨ÙˆØ¹ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„

### 6. Ø§Ù„Ù‡Ø¬Ø±Ø© (Migrations)
- Ø§Ø³ØªØ®Ø¯Ù… **Prisma Migrate** Ø£Ùˆ **Knex.js** Ø£Ùˆ **node-pg-migrate**
- Ù„Ø§ ØªÙÙ†ÙÙ‘Ø° ØªØºÙŠÙŠØ±Ø§Øª ÙŠØ¯ÙˆÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø¯ÙˆÙ† migration

---

## ğŸ“‹ Ø®Ø·Ø© Ø§Ù„Ù‡Ø¬Ø±Ø© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©

### 1. Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- Ù†Ù‚Ù„ Ù…Ù† `src/data/products.ts` Ø¥Ù„Ù‰ `products` Ùˆ `product_sizes`
- Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± Ù…Ù† `public/imgs/products` Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù€ uploads Ø£Ùˆ CDN
- ØªØ­Ø¯ÙŠØ« Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„ØµÙˆØ± ÙÙŠ `images` JSONB

### 2. Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª
- Ù†Ù‚Ù„ Ù…Ù† `src/data/blogs.ts` Ø¥Ù„Ù‰ `blog_posts` Ùˆ `blog_categories`

### 3. Ø§Ù„Ù…Ø­ØªÙˆÙ‰
- Ù†Ù‚Ù„ Ù…Ù† `src/data/*.json` (hero, about, footer, â€¦) Ø¥Ù„Ù‰ `site_content`
- ÙƒÙ„ Ù…Ù„Ù = Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ ÙÙŠ `site_content` Ù…Ø¹ `content_key` Ùˆ `content` JSONB

### 4. Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
- Ù†Ù‚Ù„ Ù…Ù† `src/lib/constants.ts` Ùˆ Admin Settings Ø¥Ù„Ù‰ `settings`

### 5. Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- Ø¥Ø°Ø§ ÙˆÙØ¬Ø¯Øª Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Zustand persist (localStorage)ØŒ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªÙŠØ±Ø§Ø¯Ù‡Ø§ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ø£Ùˆ ØªØ¬Ø§Ù‡Ù„Ù‡Ø§

### 6. Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©
- Ù†Ù‚Ù„ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù…Ù† `src/data/*.json` Ø¥Ù„Ù‰ Ø§Ù„Ø­Ù‚ÙˆÙ„ `en`
- Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù…Ù† `src/locales/ar/` Ø£Ùˆ Ù…Ù† Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø¥Ù† ÙˆÙØ¬Ø¯Øª
- Ù„Ù„ØµÙØ­Ø§Øª Ø§Ù„ØªÙŠ ØªØ³ØªØ®Ø¯Ù… i18n Ù„Ù„ÙˆØ§Ø¬Ù‡Ø© ÙÙ‚Ø·: ØªØ£ÙƒØ¯ Ù…Ù† ÙØµÙ„ "Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©" (Ù…Ù† DB) Ø¹Ù† "Ù†ØµÙˆØµ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©" (Ù…Ù† locales)

---

## âœ… Checklist Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

- [ ] Ø¥Ù†Ø´Ø§Ø¡ Database
- [ ] ØªØ´ØºÙŠÙ„ migrations Ù„Ù„Ø¬Ø¯Ø§ÙˆÙ„
- [ ] Ø¥Ø¯Ø±Ø§Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„ÙŠØ© (blog_categoriesØŒ admin user)
- [ ] Ù†Ù‚Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰
- [ ] Ø¥Ù†Ø´Ø§Ø¡ Indexes
- [ ] Ø¥Ø¹Ø¯Ø§Ø¯ Backup
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ù† Ø§Ù„Ù€ Backend

---

**Ù…Ù„Ø§Ø­Ø¸Ø©:** Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù Ù…ÙƒÙ…Ù„ Ù„Ù€ `NODEJS_BACKEND.md` â€” Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù€ API ÙˆØ§Ù„Ù…Ù†Ø·Ù‚ Ù‡Ù†Ø§Ùƒ Ù„Ø¶Ù…Ø§Ù† ØªÙˆØ§ÙÙ‚ Ø§Ù„Ù€ schema Ù…Ø¹ Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ù€ Backend.
